# 스테이징 영역(Staging Area)과 커밋(Commit)의 차이

## 📖 개요
Git에서 파일의 변경사항을 저장소에 반영하기 위해서는 **스테이징 영역에 추가**하고 **커밋**하는 두 단계의 과정을 거쳐야 합니다. 이 문서에서는 두 단계의 차이점과 역할을 자세히 설명합니다.

## 🗂️ Git의 세 가지 영역

### 1. 작업 디렉토리 (Working Directory)
- 현재 작업 중인 파일들이 있는 공간
- 파일을 수정, 생성, 삭제하는 실제 작업 공간

### 2. 스테이징 영역 (Staging Area/Index)
- 다음 커밋에 포함될 변경사항들을 임시로 저장하는 공간
- 커밋 전 준비 단계

### 3. Git 저장소 (Repository)
- 커밋된 변경사항들이 영구적으로 저장되는 공간
- 프로젝트의 모든 히스토리가 보관됨

## 🔄 스테이징 영역에 추가 (git add)

### 정의
스테이징 영역에 추가는 작업 디렉토리의 변경사항을 다음 커밋에 포함시키기 위해 준비하는 과정입니다.

### 특징
- **임시 저장**: 변경사항을 임시로 준비 상태에 둠
- **선택적 추가**: 원하는 파일만 골라서 추가 가능
- **수정 가능**: 스테이징된 파일을 다시 수정하면 재스테이징 필요
- **취소 가능**: `git reset` 명령으로 스테이징 취소 가능

### 명령어
```bash
git add <파일명>          # 특정 파일 스테이징
git add .                # 현재 디렉토리의 모든 변경사항 스테이징
git add -A               # 모든 변경사항 스테이징 (삭제 포함)
git add *.js             # 특정 확장자 파일들 스테이징
```

### 상태 확인
```bash
git status               # 스테이징된 파일과 수정된 파일 확인
```

## 📝 커밋 (git commit)

### 정의
커밋은 스테이징 영역에 있는 변경사항들을 Git 저장소에 영구적으로 기록하는 과정입니다.

### 특징
- **영구 저장**: 변경사항이 Git 히스토리에 영구적으로 기록됨
- **스냅샷 생성**: 해당 시점의 프로젝트 상태를 스냅샷으로 저장
- **메시지 필수**: 변경사항을 설명하는 커밋 메시지 작성 필요
- **고유 ID**: 각 커밋은 고유한 해시 ID를 가짐
- **되돌리기 어려움**: 한번 커밋된 내용은 되돌리기 복잡함

### 명령어
```bash
git commit -m "커밋 메시지"     # 스테이징된 변경사항 커밋
git commit -am "커밋 메시지"    # 추가 + 커밋을 한번에 (새 파일 제외)
```

### 히스토리 확인
```bash
git log                  # 커밋 히스토리 확인
git log --oneline        # 간단한 형태로 커밋 히스토리 확인
```

## ⚖️ 주요 차이점 비교

| 구분 | 스테이징 영역 추가 (git add) | 커밋 (git commit) |
|------|------------------------------|-------------------|
| **목적** | 다음 커밋 준비 | 변경사항 영구 저장 |
| **저장 위치** | 스테이징 영역 (임시) | Git 저장소 (영구) |
| **취소 난이도** | 쉬움 (`git reset`) | 어려움 (복잡한 과정) |
| **선택성** | 파일별 선택 가능 | 스테이징된 모든 파일 |
| **메시지** | 불필요 | 필수 (커밋 메시지) |
| **히스토리** | 기록되지 않음 | Git 히스토리에 기록 |

## 🔄 워크플로우 예시

### 일반적인 Git 워크플로우
```bash
# 1. 파일 수정
echo "새로운 내용" > file.txt

# 2. 상태 확인
git status
# Output: Changes not staged for commit

# 3. 스테이징 영역에 추가
git add file.txt

# 4. 상태 확인
git status
# Output: Changes to be committed

# 5. 커밋
git commit -m "파일 내용 업데이트"

# 6. 히스토리 확인
git log --oneline
```

## 💡 왜 두 단계로 나누어져 있을까?

### 1. 선택적 커밋
- 여러 파일을 수정했지만, 일부만 커밋하고 싶을 때
- 논리적으로 관련된 변경사항만 묶어서 커밋 가능

### 2. 커밋 품질 향상
- 커밋 전에 변경사항을 검토하고 정리할 시간 제공
- 불필요한 파일이나 디버그 코드 제외 가능

### 3. 협업 효율성
- 의미있는 단위로 커밋을 나누어 코드 리뷰 용이
- 프로젝트 히스토리를 깔끔하게 유지

## 🚨 주의사항

### 스테이징 후 파일 수정 시
```bash
git add file.txt         # 파일 스테이징
# file.txt를 다시 수정
git status               # 파일이 staged와 modified 두 상태에 동시 표시
git add file.txt         # 재스테이징 필요
```

### 빈 커밋 방지
- 스테이징 영역이 비어있으면 커밋할 수 없음
- `git commit`만 실행하면 "nothing to commit" 메시지 출력

## 📚 관련 명령어 정리

### 스테이징 관련
```bash
git add <file>           # 파일 스테이징
git reset <file>         # 스테이징 취소
git reset                # 모든 스테이징 취소
```

### 커밋 관련
```bash
git commit -m "message"  # 커밋
git commit --amend       # 최근 커밋 수정
git reset --soft HEAD~1  # 최근 커밋 취소 (스테이징 유지)
git reset --hard HEAD~1  # 최근 커밋 완전 취소
```

### 상태 확인
```bash
git status               # 현재 상태 확인
git diff                 # 작업 디렉토리 vs 스테이징 영역
git diff --staged        # 스테이징 영역 vs 최근 커밋
```

---

## 🎯 결론

스테이징 영역과 커밋은 Git의 핵심 개념으로, 각각 다른 목적과 역할을 가지고 있습니다:

- **스테이징**: 커밋할 변경사항을 선별하고 준비하는 단계
- **커밋**: 준비된 변경사항을 영구적으로 저장하는 단계

이 두 단계를 적절히 활용하면 더 체계적이고 의미있는 Git 히스토리를 만들 수 있습니다.