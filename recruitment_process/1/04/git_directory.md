# 버전 관리 시스템과 .git 디렉토리

## 1. 버전 관리 시스템의 종류

### 1.1 Git
- **분산형 버전 관리 시스템**의 대표적인 예
- 각 개발자가 완전한 히스토리를 가진 로컬 저장소를 보유
- 오프라인에서도 작업 가능하며, 브랜치 생성과 병합이 매우 빠름
- GitHub, GitLab 등의 플랫폼과 연동하여 협업에 널리 사용됨

### 1.2 Subversion (SVN)
- **중앙집중식 버전 관리 시스템**
- 하나의 중앙 서버에 모든 버전 정보를 저장
- 클라이언트는 서버에서 파일을 체크아웃하여 작업
- 네트워크 연결이 필요하며, 중앙 서버에 문제가 생기면 작업이 중단됨

### 1.3 Mercurial
- Git과 같은 **분산형 버전 관리 시스템**
- Python으로 작성되어 크로스 플랫폼 지원이 우수
- Git보다 학습 곡선이 완만하고 사용법이 직관적
- 대용량 프로젝트에서도 안정적인 성능을 보임

## 2. .git 디렉토리의 역할과 의미

### 2.1 .git 디렉토리란?
`.git` 디렉토리는 Git 저장소의 핵심으로, 프로젝트의 모든 버전 관리 정보를 담고 있는 숨겨진 폴더입니다.

### 2.2 주요 구성 요소와 역할

#### 2.2.1 objects/ 디렉토리
- Git의 모든 데이터(커밋, 트리, 블롭)를 저장하는 객체 데이터베이스
- SHA-1 해시값으로 식별되는 객체들이 압축되어 저장됨

#### 2.2.2 refs/ 디렉토리
- 브랜치와 태그의 참조 정보를 저장
- `heads/` 하위에 로컬 브랜치 정보
- `remotes/` 하위에 원격 저장소 브랜치 정보
- `tags/` 하위에 태그 정보

#### 2.2.3 HEAD 파일
- 현재 체크아웃된 브랜치나 커밋을 가리키는 포인터
- 일반적으로 현재 브랜치의 참조를 담고 있음

#### 2.2.4 index 파일
- 스테이징 영역(Staging Area)의 정보를 저장
- 다음 커밋에 포함될 파일들의 상태를 추적

#### 2.2.5 config 파일
- 해당 저장소의 Git 설정 정보
- 사용자 정보, 원격 저장소 URL 등을 포함

### 2.3 .git 디렉토리의 중요성
- **저장소 식별**: Git이 해당 디렉토리를 Git 저장소로 인식하는 기준
- **버전 히스토리**: 모든 커밋 히스토리와 변경 사항을 보관
- **브랜치 관리**: 브랜치 생성, 전환, 병합 등의 작업을 가능하게 함
- **원격 저장소 연결**: 원격 저장소와의 동기화 정보 유지

## 3. .git 디렉토리 삭제 및 복원 실험

### 3.1 .git 디렉토리 삭제 후 상태 확인

```bash
# .git 디렉토리 삭제
rm -rf .git

# Git 상태 확인
git status
```

**예상 결과:**
```
fatal: not a git repository (or any of the parent directories): .git
```

### 3.2 상태 분석
- Git 명령어가 작동하지 않음
- 해당 디렉토리가 더 이상 Git 저장소로 인식되지 않음
- 모든 버전 히스토리, 브랜치 정보, 커밋 로그가 손실됨
- 작업 디렉토리의 파일들은 그대로 유지되지만 버전 관리에서 제외됨

### 3.3 .git 디렉토리 복원 후 상태 확인

```bash
# 휴지통에서 .git 디렉토리 복원 (운영체제별로 방법이 다름)
# Linux/Mac: 휴지통에서 직접 복원
# Windows: 휴지통에서 복원

# Git 상태 확인
git status
```

**예상 결과:**
```
On branch main
nothing to commit, working tree clean
```

### 3.4 복원 후 분석
- Git 명령어가 정상적으로 작동함
- 모든 커밋 히스토리와 브랜치 정보가 복원됨
- 이전 상태 그대로 Git 저장소 기능이 복구됨
- 작업 디렉토리의 파일 상태도 정확히 추적됨

## 4. 결론

`.git` 디렉토리는 Git 저장소의 심장부로서, 이 디렉토리 없이는 Git의 어떤 기능도 사용할 수 없습니다. 따라서 `.git` 디렉토리를 실수로 삭제하지 않도록 주의해야 하며, 정기적인 백업을 통해 중요한 프로젝트의 버전 관리 정보를 보호해야 합니다.